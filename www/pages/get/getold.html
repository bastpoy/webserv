<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Simple website</title>
	<link rel="icon" type="image/x-icon" href="../../assets/images/favicon.ico">
</head>
<body>
	<nav style="padding:15px;">
		<a href="../../index.html" style="font-size: 20px;margin:1rem;width:150px;padding:5px;">Home</a>
	</nav>
	<h1>GET</h1>
	<!-- <h1>Downloading File</h1>
		<form action="/download" method="get"></form>
			<label for="fileName">Enter the file name to Donwload:</label>
			<input type="text" id="fileName" placeholder="your_file_to_donwload.txt">
			<button class="minimal-button" id="downloadButton">Donwload File</button>
		</form> -->
		<form action="/upload" method="get">
			<label for="fileName">Enter the file name to Download:</label>
			<input type="text" id="fileName" name="fileName" placeholder="your_file_to_download.txt" required>
			<button type="submit" class="minimal-button">Download File</button>
		</form>
		<h1></h1>
	<!-- <script>
		document.getElementById('downloadButton').addEventListener('click', function() {
			const fileName = document.getElementById('fileName').value;
			
			fetch(`../../upload/${fileName}`, {
				method: 'GET'
			})
			.then(response => {
				// Check if the response is successful
				if (!response.ok) {
					throw new Error('File not found');
				}
				
				// Get the filename from Content-Disposition header or use the input filename
				const suggestedFilename = response.headers.get('Content-Disposition')?.split('filename=')[1] || fileName;
				
				// Convert response to blob
				return response.blob().then(blob => {
					// Create a link element to trigger download
					const url = window.URL.createObjectURL(blob);
					const a = document.createElement('a');
					a.style.display = 'none';
					a.href = url;
					a.download = suggestedFilename;
					document.body.appendChild(a);
					a.click();
					
					// Clean up
					window.URL.revokeObjectURL(url);
					document.body.removeChild(a);
				});
			})
			.catch(error => {
				console.error('Download error:', error);
				alert(`Failed to download the file: ${error.message}`);
			});
		}); 
</script> -->
</body>
</html>